{"ast":null,"code":"var _jsxFileName = \"/Users/amy/job search career/coding challenges/Go Nimbly 2020/interviewProject_FrequencyMath/frequency-math/src/App.js\";\nimport React, { Component } from 'react'; //import ReactDOM from 'react-dom';\n\nimport 'bootswatch/dist/solar/bootstrap.min.css';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    /*  TODO: implement a loading spinner\n    if(!this.props.title) {\n      return(null);\n    }\n    */\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-header\",\n      id: \"banner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 11\n      }\n    }, \"Note Frequency Math\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 11\n      }\n    }, \"Go Nimbly Interview Project by Amy Herz\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(BaseInput, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(SemitonesForm, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Results, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n/*  \n  Starting with a base of A4 with a nice integer note frequency of 440.\n  This frequency will remain unchanged as our point of reference.\n*/\n\n\nfunction BaseInput(props) {\n  const base = {\n    freq: \"440\",\n    note: \"A4\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"control-label\",\n    for: \"baseFrequency\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Base Frequency (in Hertz)\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control form-control-lg\",\n    type: \"number\",\n    placeholder: \"440\",\n    id: \"baseFrequency\",\n    readOnly: true,\n    value: \"440\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    id: \"baseFreqHelp\",\n    className: \"form-text text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"We are starting with the \\\"Middle A\\\" (A4) with a frequency of 440Hz\")));\n}\n/*\n  Simple function to set state of other class and pass to results\n*/\n\n\nfunction updateResults(freq) {\n  this.setState({\n    freq\n  });\n}\n/*  \n  From our base note, user provides number of semitones, or half steps to travel from there.\n  User can input positive number to travel up or negative number to travel down in pitch.\n*/\n\n\nclass SemitonesForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      number: 0,\n      frequency: 440,\n      logResult: 0,\n      key: 49\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.calculateFrequency = this.calculateFrequency.bind(this); //this.createPromise = this.createPromise.bind(this);\n    //this.sendNewtonRequest = this.sendNewtonRequest.bind(this);\n    //this.handleNewtonResponse = this.handleNewtonResponse.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      number: event.target.value\n    });\n  }\n\n  calculateFrequency() {\n    console.log('current state.number entering freq calc:' + this.state.number);\n    this.setState({\n      frequency: 440 * Math.pow(2, this.state.number / 12)\n    });\n  }\n\n  handleSubmit(event) {\n    //this.calculateFrequency();\n    console.log('current state.number entering freq calc:' + this.state.number); //this.setState({frequency: 440 * Math.pow(2, (this.state.number / 12))});\n\n    const freq = 440 * Math.pow(2, this.state.number / 12);\n    this.setState({\n      frequency: freq\n    });\n    console.log('this.state.frequency: ' + this.state.frequency); //const freqDivide = this.state.frequency / 440;\n\n    const freqDivide = freq / 440;\n    console.log('freqDivide: ' + freqDivide);\n    const newtonBase = 'https://newton.now.sh/'; // the expression we want is 440*2^({semitones}/12), however we need formatted url encoding\n    //const expression = '440(2%5E(' + this.state.number + '(over)12))';\n    //console.log('expression: ' + expression);\n\n    fetch(newtonBase + 'log/2|' + freqDivide).then(response => response.json()).then(logResults => {\n      this.setState({\n        logResult: logResults.result\n      });\n      console.log('log result: ', logResults);\n      console.log('this.state.logResult: ' + this.state.logResult);\n      const pianoKey = 12 * this.state.logResult + 49;\n      this.setState({\n        key: pianoKey\n      });\n      console.log('this.key: ' + this.state.key);\n    }, error => {\n      console.log(error); //console.log('error response: ' + error.response);\n\n      console.log('error status: ' + error.response.status);\n    });\n    event.preventDefault();\n    console.log('checking that frequency is saved: ' + this.target.frequency);\n    this.passToResults(this.state.frequency);\n  }\n\n  passToResults(freq) {\n    updateResults(freq);\n  }\n  /*\n    createPromise() {\n      return new Promise(function (resolve, reject) {\n        let url = 'https://newton.now.sh/simplify/440%2A2%5E(' + this.state.number + '(over)12)';\n  \n        url.onload = function() {\n          if(this.status >= 200 && this.status < 300) {\n            resolve(xhr.responseText);\n          } else {\n            reject({status: this.status, msg: xhr.statusText});\n          }\n        };\n  \n        xhr.onerror = function() {\n          reject({status: this.status, msg: xhr.statusText});\n        };\n  \n        xhr.open(\"GET\", url);\n        xhr.send();\n      });\n    }\n  \n    sendNewtonRequest () {\n      this.createPromise()\n      .then(response => callback(handleNewtonResponse(JSON.parse(response))))\n      .catch(error => console.error('NewtonMath error: ', error.status, error));\n    }\n  \n    handleNewtonResponse (response) {\n      if(response.hasOwnProperty('error')) {\n        console.error(response['error']);\n      } else {\n        let result = response['result'];\n  \n        try {\n          return JSON.parse(result);\n        } catch (e) {\n          if(result.constructor == String && result.toLowerCase() == 'nan') {\n            return NaN;\n          } else {\n            return result;\n          }\n        }\n      }\n    }\n  */\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-form-label col-form-label-lg\",\n      for: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }, \"Semitones\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      type: \"number\",\n      placeholder: \"0\",\n      id: \"userInput\",\n      min: \"-57\",\n      max: \"50\",\n      step: \"1\",\n      value: this.state.number,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"small\", {\n      id: \"semitonesHelp\",\n      className: \"form-text text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, \"Enter how many semitones, or half steps you would like to add or subtract from A4 (integer numbers only ranging from -57 to 50).\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-lg btn-block\",\n      value: \"Calculate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-form-label col-form-label-lg\",\n      for: \"userInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, \"Key on Piano\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      type: \"text\",\n      placeholder: \"nothing\",\n      id: \"newtResult\",\n      readOnly: true,\n      value: this.state.key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n/*  \n  After user submits form, results are rendered and displayed in this component.\n*/\n\n\nclass Results extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      freq: 440,\n      note: \"A4\",\n      pianoKey: 49,\n      ratio: \"1\"\n    };\n    this.handleClick = this.handleClick.bind(this);\n    updateResults = updateResults.bind(this);\n  }\n\n  handleClick() {\n    this.setState(state => ({//axios shit\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card text-white bg-success mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      div: true,\n      class: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }\n    }, \"Results\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }\n    }, \"Consonance/Dissonance?\"), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }\n    }, \"After calculating....\"), /*#__PURE__*/React.createElement(\"ul\", {\n      class: \"list-group list-group-flush\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      class: \"list-group-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }, \"Note: \", this.state.note), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"list-group-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    }, \"Key on Piano: \", this.state.pianoKey), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"list-group-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    }, \"Frequency: \", this.state.freq), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"list-group-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    }, \"Fraction: \", this.state.ratio)), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-outline-success\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, \"Play notes\"))));\n  }\n\n} //ReactDOM.render(<App />, document.getElementById('root'));\n\n\nexport default App;","map":{"version":3,"sources":["/Users/amy/job search career/coding challenges/Go Nimbly 2020/interviewProject_FrequencyMath/frequency-math/src/App.js"],"names":["React","Component","App","render","BaseInput","props","base","freq","note","updateResults","setState","SemitonesForm","constructor","state","number","frequency","logResult","key","handleChange","bind","handleSubmit","calculateFrequency","event","target","value","console","log","Math","pow","freqDivide","newtonBase","fetch","then","response","json","logResults","result","pianoKey","error","status","preventDefault","passToResults","Results","ratio","handleClick"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAO,yCAAP;AACA,OAAO,WAAP;;AAEA,MAAMC,GAAN,SAAkBD,SAAlB,CAA4B;AAE1BE,EAAAA,MAAM,GAAG;AACP;;;;;AAKA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAA6B,MAAA,EAAE,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAFF,CADF,eAKE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAKE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,CALF,CADF;AAiBD;;AAzByB;AA4B5B;;;;;;AAIA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,QAAMC,IAAI,GAAG;AAACC,IAAAA,IAAI,EAAC,KAAN;AAAaC,IAAAA,IAAI,EAAC;AAAlB,GAAb;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,eAAjB;AAAiC,IAAA,GAAG,EAAC,eAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,eAEE;AAAO,IAAA,SAAS,EAAC,8BAAjB;AAAgD,IAAA,IAAI,EAAC,QAArD;AAA8D,IAAA,WAAW,EAAC,KAA1E;AAAgF,IAAA,EAAE,EAAC,eAAnF;AAAmG,IAAA,QAAQ,EAAE,IAA7G;AAAmH,IAAA,KAAK,EAAC,KAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAO,IAAA,EAAE,EAAC,cAAV;AAAyB,IAAA,SAAS,EAAC,sBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EAHF,CADF,CADF;AASD;AAED;;;;;AAGA,SAASC,aAAT,CAAuBF,IAAvB,EAA6B;AAC3B,OAAKG,QAAL,CAAc;AAACH,IAAAA;AAAD,GAAd;AACD;AAED;;;;;;AAIA,MAAMI,aAAN,SAA4BV,SAA5B,CAAsC;AACpCW,EAAAA,WAAW,CAACP,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKQ,KAAL,GAAa;AAACC,MAAAA,MAAM,EAAE,CAAT;AAAYC,MAAAA,SAAS,EAAE,GAAvB;AAA4BC,MAAAA,SAAS,EAAE,CAAvC;AAA0CC,MAAAA,GAAG,EAAE;AAA/C,KAAb;AAEA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBF,IAAxB,CAA6B,IAA7B,CAA1B,CANiB,CAOjB;AACA;AACA;AACD;;AAEDD,EAAAA,YAAY,CAACI,KAAD,EAAQ;AAClB,SAAKZ,QAAL,CAAc;AAACI,MAAAA,MAAM,EAAEQ,KAAK,CAACC,MAAN,CAAaC;AAAtB,KAAd;AACD;;AAEDH,EAAAA,kBAAkB,GAAG;AACnBI,IAAAA,OAAO,CAACC,GAAR,CAAY,6CAA6C,KAAKb,KAAL,CAAWC,MAApE;AACA,SAAKJ,QAAL,CAAc;AAACK,MAAAA,SAAS,EAAE,MAAMY,IAAI,CAACC,GAAL,CAAS,CAAT,EAAa,KAAKf,KAAL,CAAWC,MAAX,GAAoB,EAAjC;AAAlB,KAAd;AACD;;AAEDM,EAAAA,YAAY,CAACE,KAAD,EAAQ;AAClB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,6CAA6C,KAAKb,KAAL,CAAWC,MAApE,EAFkB,CAGlB;;AACA,UAAMP,IAAI,GAAG,MAAMoB,IAAI,CAACC,GAAL,CAAS,CAAT,EAAa,KAAKf,KAAL,CAAWC,MAAX,GAAoB,EAAjC,CAAnB;AACA,SAAKJ,QAAL,CAAc;AAACK,MAAAA,SAAS,EAAER;AAAZ,KAAd;AACAkB,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAA2B,KAAKb,KAAL,CAAWE,SAAlD,EANkB,CAOlB;;AACA,UAAMc,UAAU,GAAGtB,IAAI,GAAG,GAA1B;AACAkB,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBG,UAA7B;AAEA,UAAMC,UAAU,GAAG,wBAAnB,CAXkB,CAYlB;AACA;AACA;;AACAC,IAAAA,KAAK,CAACD,UAAU,GAAG,QAAb,GAAwBD,UAAzB,CAAL,CACCG,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAGGG,UAAD,IAAgB;AACd,WAAKzB,QAAL,CAAc;AAACM,QAAAA,SAAS,EAAEmB,UAAU,CAACC;AAAvB,OAAd;AACAX,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BS,UAA5B;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAA2B,KAAKb,KAAL,CAAWG,SAAlD;AACA,YAAMqB,QAAQ,GAAG,KAAK,KAAKxB,KAAL,CAAWG,SAAhB,GAA4B,EAA7C;AACA,WAAKN,QAAL,CAAc;AAACO,QAAAA,GAAG,EAAEoB;AAAN,OAAd;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAe,KAAKb,KAAL,CAAWI,GAAtC;AACD,KAVH,EAWGqB,KAAD,IAAW;AACTb,MAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ,EADS,CAET;;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBY,KAAK,CAACL,QAAN,CAAeM,MAA9C;AACD,KAfH;AAiBAjB,IAAAA,KAAK,CAACkB,cAAN;AACAf,IAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuC,KAAKH,MAAL,CAAYR,SAA/D;AACA,SAAK0B,aAAL,CAAmB,KAAK5B,KAAL,CAAWE,SAA9B;AACD;;AAED0B,EAAAA,aAAa,CAAClC,IAAD,EAAO;AAClBE,IAAAA,aAAa,CAACF,IAAD,CAAb;AACD;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDEJ,EAAAA,MAAM,GAAG;AACP,wBACE;AAAM,MAAA,QAAQ,EAAE,KAAKiB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,kCAAjB;AAAoD,MAAA,GAAG,EAAC,WAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAEE;AAAO,MAAA,SAAS,EAAC,8BAAjB;AAAgD,MAAA,IAAI,EAAC,QAArD;AAA8D,MAAA,WAAW,EAAC,GAA1E;AAA8E,MAAA,EAAE,EAAC,WAAjF;AAA6F,MAAA,GAAG,EAAC,KAAjG;AAAuG,MAAA,GAAG,EAAC,IAA3G;AAAgH,MAAA,IAAI,EAAC,GAArH;AAAyH,MAAA,KAAK,EAAE,KAAKP,KAAL,CAAWC,MAA3I;AAAmJ,MAAA,QAAQ,EAAE,KAAKI,YAAlK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAKE;AAAO,MAAA,EAAE,EAAC,eAAV;AAA0B,MAAA,SAAS,EAAC,sBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0IALF,eAME;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,SAAS,EAAC,kCAA/B;AAAkE,MAAA,KAAK,EAAC,WAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAOE;AAAO,MAAA,SAAS,EAAC,kCAAjB;AAAoD,MAAA,GAAG,EAAC,WAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCACE;AAAO,MAAA,SAAS,EAAC,8BAAjB;AAAgD,MAAA,IAAI,EAAC,MAArD;AAA4D,MAAA,WAAW,EAAC,SAAxE;AAAkF,MAAA,EAAE,EAAC,YAArF;AAAkG,MAAA,QAAQ,EAAE,IAA5G;AAAkH,MAAA,KAAK,EAAE,KAAKL,KAAL,CAAWI,GAApI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAPF,CADF,CADF;AAeD;;AA9HmC;AAkItC;;;;;AAGA,MAAMyB,OAAN,SAAsBzC,SAAtB,CAAgC;AAC9BW,EAAAA,WAAW,CAACP,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKQ,KAAL,GAAa;AAACN,MAAAA,IAAI,EAAE,GAAP;AAAYC,MAAAA,IAAI,EAAE,IAAlB;AAAwB6B,MAAAA,QAAQ,EAAE,EAAlC;AAAsCM,MAAAA,KAAK,EAAE;AAA7C,KAAb;AAEA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBzB,IAAjB,CAAsB,IAAtB,CAAnB;AACAV,IAAAA,aAAa,GAAGA,aAAa,CAACU,IAAd,CAAmB,IAAnB,CAAhB;AACD;;AAEDyB,EAAAA,WAAW,GAAG;AACZ,SAAKlC,QAAL,CAAcG,KAAK,KAAK,CACtB;AADsB,KAAL,CAAnB;AAGD;;AAEDV,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,KAAK,EAAC,iCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,GAAG,MAAP;AAAQ,MAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,KAAK,EAAC,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAEE;AAAG,MAAA,KAAK,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAFF,eAGE;AAAI,MAAA,KAAK,EAAC,6BAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAmC,KAAKU,KAAL,CAAWL,IAA9C,CADF,eAEE;AAAI,MAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAA2C,KAAKK,KAAL,CAAWwB,QAAtD,CAFF,eAGE;AAAI,MAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAwC,KAAKxB,KAAL,CAAWN,IAAnD,CAHF,eAIE;AAAI,MAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAuC,KAAKM,KAAL,CAAW8B,KAAlD,CAJF,CAHF,eASE;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,yBAA5B;AAAsD,MAAA,OAAO,EAAE,KAAKC,WAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CATF,CAFF,CADF;AAmBD;;AAnC6B,C,CAwChC;;;AACA,eAAe1C,GAAf","sourcesContent":["import React, { Component } from 'react';\n//import ReactDOM from 'react-dom';\nimport 'bootswatch/dist/solar/bootstrap.min.css'; \nimport './App.css';\n\nclass App extends Component {\n  \n  render() {\n    /*  TODO: implement a loading spinner\n    if(!this.props.title) {\n      return(null);\n    }\n    */\n    return(\n      <div>\n        <div className=\"page-header\" id=\"banner\">\n          <h1>Note Frequency Math</h1>\n          <p>Go Nimbly Interview Project by Amy Herz</p>\n        </div>\n        <div className=\"jumbotron\">\n          <div className=\"form-group\">\n            <BaseInput />\n            <SemitonesForm />\n          </div>\n          <div className=\"form-group\">\n            <Results />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/*  \n  Starting with a base of A4 with a nice integer note frequency of 440.\n  This frequency will remain unchanged as our point of reference.\n*/\nfunction BaseInput(props) {\n  const base = {freq:\"440\", note:\"A4\"};\n  return (\n    <div className=\"form-group\">\n      <fieldset>\n        <label className=\"control-label\" for=\"baseFrequency\">Base Frequency (in Hertz)</label>\n        <input className=\"form-control form-control-lg\" type=\"number\" placeholder=\"440\" id=\"baseFrequency\" readOnly={true} value=\"440\"></input>\n        <small id=\"baseFreqHelp\" className=\"form-text text-muted\">We are starting with the \"Middle A\" (A4) with a frequency of 440Hz</small>\n      </fieldset>\n    </div>\n  );\n}\n\n/*\n  Simple function to set state of other class and pass to results\n*/\nfunction updateResults(freq) {\n  this.setState({freq})\n}\n\n/*  \n  From our base note, user provides number of semitones, or half steps to travel from there.\n  User can input positive number to travel up or negative number to travel down in pitch.\n*/\nclass SemitonesForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {number: 0, frequency: 440, logResult: 0, key: 49};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.calculateFrequency = this.calculateFrequency.bind(this);\n    //this.createPromise = this.createPromise.bind(this);\n    //this.sendNewtonRequest = this.sendNewtonRequest.bind(this);\n    //this.handleNewtonResponse = this.handleNewtonResponse.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({number: event.target.value});\n  }\n\n  calculateFrequency() {\n    console.log('current state.number entering freq calc:' + this.state.number);\n    this.setState({frequency: 440 * Math.pow(2, (this.state.number / 12))});\n  }\n\n  handleSubmit(event) {\n    //this.calculateFrequency();\n    console.log('current state.number entering freq calc:' + this.state.number);\n    //this.setState({frequency: 440 * Math.pow(2, (this.state.number / 12))});\n    const freq = 440 * Math.pow(2, (this.state.number / 12));\n    this.setState({frequency: freq});\n    console.log('this.state.frequency: ' + this.state.frequency);\n    //const freqDivide = this.state.frequency / 440;\n    const freqDivide = freq / 440;\n    console.log('freqDivide: ' + freqDivide);\n\n    const newtonBase = 'https://newton.now.sh/';\n    // the expression we want is 440*2^({semitones}/12), however we need formatted url encoding\n    //const expression = '440(2%5E(' + this.state.number + '(over)12))';\n    //console.log('expression: ' + expression);\n    fetch(newtonBase + 'log/2|' + freqDivide)\n    .then(response => response.json())\n    .then(\n      (logResults) => {\n        this.setState({logResult: logResults.result});\n        console.log('log result: ', logResults);\n        console.log('this.state.logResult: ' + this.state.logResult);\n        const pianoKey = 12 * this.state.logResult + 49;\n        this.setState({key: pianoKey});\n        console.log('this.key: ' + this.state.key);\n      },\n      (error) => {\n        console.log(error);\n        //console.log('error response: ' + error.response);\n        console.log('error status: ' + error.response.status);\n      }\n    )\n    event.preventDefault();\n    console.log('checking that frequency is saved: ' + this.target.frequency);\n    this.passToResults(this.state.frequency);\n  }\n\n  passToResults(freq) {\n    updateResults(freq);\n  }\n/*\n  createPromise() {\n    return new Promise(function (resolve, reject) {\n      let url = 'https://newton.now.sh/simplify/440%2A2%5E(' + this.state.number + '(over)12)';\n\n      url.onload = function() {\n        if(this.status >= 200 && this.status < 300) {\n          resolve(xhr.responseText);\n        } else {\n          reject({status: this.status, msg: xhr.statusText});\n        }\n      };\n\n      xhr.onerror = function() {\n        reject({status: this.status, msg: xhr.statusText});\n      };\n\n      xhr.open(\"GET\", url);\n      xhr.send();\n    });\n  }\n\n  sendNewtonRequest () {\n    this.createPromise()\n    .then(response => callback(handleNewtonResponse(JSON.parse(response))))\n    .catch(error => console.error('NewtonMath error: ', error.status, error));\n  }\n\n  handleNewtonResponse (response) {\n    if(response.hasOwnProperty('error')) {\n      console.error(response['error']);\n    } else {\n      let result = response['result'];\n\n      try {\n        return JSON.parse(result);\n      } catch (e) {\n        if(result.constructor == String && result.toLowerCase() == 'nan') {\n          return NaN;\n        } else {\n          return result;\n        }\n      }\n    }\n  }\n*/\n\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div>\n          <label className=\"col-form-label col-form-label-lg\" for=\"userInput\">Semitones\n            {/*The musical scale goes from C0 to B8, giving us the range of -57 to 50 for semitones options*/}\n            <input className=\"form-control form-control-lg\" type=\"number\" placeholder=\"0\" id=\"userInput\" min=\"-57\" max=\"50\" step=\"1\" value={this.state.number} onChange={this.handleChange}></input>\n          </label>\n          <small id=\"semitonesHelp\" className=\"form-text text-muted\">Enter how many semitones, or half steps you would like to add or subtract from A4 (integer numbers only ranging from -57 to 50).</small>\n          <input type=\"submit\" className=\"btn btn-primary btn-lg btn-block\" value=\"Calculate\" />\n          <label className=\"col-form-label col-form-label-lg\" for=\"userInput\">Key on Piano\n            <input className=\"form-control form-control-lg\" type=\"text\" placeholder=\"nothing\" id=\"newtResult\" readOnly={true} value={this.state.key}></input>\n          </label>\n        </div>\n      </form>\n    );\n  } \n}\n\n\n/*  \n  After user submits form, results are rendered and displayed in this component.\n*/\nclass Results extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {freq: 440, note: \"A4\", pianoKey: 49, ratio: \"1\"};\n\n    this.handleClick = this.handleClick.bind(this);\n    updateResults = updateResults.bind(this);\n  }\n  \n  handleClick() {\n    this.setState(state => ({\n      //axios shit\n    }));\n  }\n\n  render() {\n    return (\n      <div class=\"card text-white bg-success mb-3\">\n        <h3 div class=\"card-header\">Results</h3>\n        <div class=\"card-body\">\n          <h4 class=\"card-title\">Consonance/Dissonance?</h4>\n          <p class=\"card-text\">After calculating....</p>\n          <ul class=\"list-group list-group-flush\">\n            <li class=\"list-group-item\">Note: {this.state.note}</li>\n            <li class=\"list-group-item\">Key on Piano: {this.state.pianoKey}</li>\n            <li class=\"list-group-item\">Frequency: {this.state.freq}</li>\n            <li class=\"list-group-item\">Fraction: {this.state.ratio}</li>\n          </ul>\n          <div class=\"card-body\">\n            <button type=\"button\" class=\"btn btn-outline-success\" onClick={this.handleClick}>\n              Play notes</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n}\n\n\n//ReactDOM.render(<App />, document.getElementById('root'));\nexport default App;\n"]},"metadata":{},"sourceType":"module"}